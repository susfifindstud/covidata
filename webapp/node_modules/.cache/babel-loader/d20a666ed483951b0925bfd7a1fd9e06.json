{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/fugu/Documents/GitHub/covidata/webapp/src/Piechart stuff/PieHooks.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nconst Pie = props => {\n  _s();\n\n  const ref = useRef(null);\n  const createPie = d3.pie().value(d => d.value).sort(null);\n  const createArc = d3.arc().innerRadius(props.innerRadius).outerRadius(props.outerRadius);\n  const colors = d3.scaleOrdinal(d3.schemeCategory10);\n  const format = d3.format(\".2f\");\n  useEffect(() => {\n    const data = createPie(props.data);\n    const group = d3.select(ref.current);\n    const groupWithData = group.selectAll(\"g.arc\").data(data);\n    groupWithData.exit().remove();\n    const groupWithUpdate = groupWithData.enter().append(\"g\").attr(\"class\", \"arc\");\n    const path = groupWithUpdate.append(\"path\").merge(groupWithData.select(\"path.arc\"));\n    path.attr(\"class\", \"arc\").attr(\"d\", createArc).attr(\"fill\", (d, i) => colors(i));\n    const text = groupWithUpdate.append(\"text\").merge(groupWithData.select(\"text\"));\n    text.attr(\"text-anchor\", \"middle\").attr(\"alignment-baseline\", \"middle\").attr(\"transform\", d => `translate(${createArc.centroid(d)})`).style(\"fill\", \"white\").style(\"font-size\", 10).text(d => format(d.value));\n  }, [props.data]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: props.width,\n    height: props.height,\n    children: /*#__PURE__*/_jsxDEV(\"g\", {\n      ref: ref,\n      transform: `translate(${props.outerRadius} ${props.outerRadius})`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Pie, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\n_c = Pie;\nexport default Pie;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pie\");","map":{"version":3,"sources":["/Users/fugu/Documents/GitHub/covidata/webapp/src/Piechart stuff/PieHooks.js"],"names":["React","useEffect","useRef","d3","Pie","props","ref","createPie","pie","value","d","sort","createArc","arc","innerRadius","outerRadius","colors","scaleOrdinal","schemeCategory10","format","data","group","select","current","groupWithData","selectAll","exit","remove","groupWithUpdate","enter","append","attr","path","merge","i","text","centroid","style","width","height"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;AAEA,MAAMC,GAAG,GAAGC,KAAK,IAAI;AAAA;;AACnB,QAAMC,GAAG,GAAGJ,MAAM,CAAC,IAAD,CAAlB;AACA,QAAMK,SAAS,GAAGJ,EAAE,CACjBK,GADe,GAEfC,KAFe,CAETC,CAAC,IAAIA,CAAC,CAACD,KAFE,EAGfE,IAHe,CAGV,IAHU,CAAlB;AAIA,QAAMC,SAAS,GAAGT,EAAE,CACjBU,GADe,GAEfC,WAFe,CAEHT,KAAK,CAACS,WAFH,EAGfC,WAHe,CAGHV,KAAK,CAACU,WAHH,CAAlB;AAIA,QAAMC,MAAM,GAAGb,EAAE,CAACc,YAAH,CAAgBd,EAAE,CAACe,gBAAnB,CAAf;AACA,QAAMC,MAAM,GAAGhB,EAAE,CAACgB,MAAH,CAAU,KAAV,CAAf;AAEAlB,EAAAA,SAAS,CACP,MAAM;AACJ,UAAMmB,IAAI,GAAGb,SAAS,CAACF,KAAK,CAACe,IAAP,CAAtB;AACA,UAAMC,KAAK,GAAGlB,EAAE,CAACmB,MAAH,CAAUhB,GAAG,CAACiB,OAAd,CAAd;AACA,UAAMC,aAAa,GAAGH,KAAK,CAACI,SAAN,CAAgB,OAAhB,EAAyBL,IAAzB,CAA8BA,IAA9B,CAAtB;AAEAI,IAAAA,aAAa,CAACE,IAAd,GAAqBC,MAArB;AAEA,UAAMC,eAAe,GAAGJ,aAAa,CAClCK,KADqB,GAErBC,MAFqB,CAEd,GAFc,EAGrBC,IAHqB,CAGhB,OAHgB,EAGP,KAHO,CAAxB;AAKA,UAAMC,IAAI,GAAGJ,eAAe,CACzBE,MADU,CACH,MADG,EAEVG,KAFU,CAEJT,aAAa,CAACF,MAAd,CAAqB,UAArB,CAFI,CAAb;AAIAU,IAAAA,IAAI,CACDD,IADH,CACQ,OADR,EACiB,KADjB,EAEGA,IAFH,CAEQ,GAFR,EAEanB,SAFb,EAGGmB,IAHH,CAGQ,MAHR,EAGgB,CAACrB,CAAD,EAAIwB,CAAJ,KAAUlB,MAAM,CAACkB,CAAD,CAHhC;AAKA,UAAMC,IAAI,GAAGP,eAAe,CACzBE,MADU,CACH,MADG,EAEVG,KAFU,CAEJT,aAAa,CAACF,MAAd,CAAqB,MAArB,CAFI,CAAb;AAIAa,IAAAA,IAAI,CACDJ,IADH,CACQ,aADR,EACuB,QADvB,EAEGA,IAFH,CAEQ,oBAFR,EAE8B,QAF9B,EAGGA,IAHH,CAGQ,WAHR,EAGqBrB,CAAC,IAAK,aAAYE,SAAS,CAACwB,QAAV,CAAmB1B,CAAnB,CAAsB,GAH7D,EAIG2B,KAJH,CAIS,MAJT,EAIiB,OAJjB,EAKGA,KALH,CAKS,WALT,EAKsB,EALtB,EAMGF,IANH,CAMQzB,CAAC,IAAIS,MAAM,CAACT,CAAC,CAACD,KAAH,CANnB;AAOD,GAjCM,EAkCP,CAACJ,KAAK,CAACe,IAAP,CAlCO,CAAT;AAqCA,sBACE;AAAK,IAAA,KAAK,EAAEf,KAAK,CAACiC,KAAlB;AAAyB,IAAA,MAAM,EAAEjC,KAAK,CAACkC,MAAvC;AAAA,2BACE;AACE,MAAA,GAAG,EAAEjC,GADP;AAEE,MAAA,SAAS,EAAG,aAAYD,KAAK,CAACU,WAAY,IAAGV,KAAK,CAACU,WAAY;AAFjE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CA1DD;;GAAMX,G;;KAAAA,G;AA4DN,eAAeA,GAAf","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nconst Pie = props => {\n  const ref = useRef(null);\n  const createPie = d3\n    .pie()\n    .value(d => d.value)\n    .sort(null);\n  const createArc = d3\n    .arc()\n    .innerRadius(props.innerRadius)\n    .outerRadius(props.outerRadius);\n  const colors = d3.scaleOrdinal(d3.schemeCategory10);\n  const format = d3.format(\".2f\");\n\n  useEffect(\n    () => {\n      const data = createPie(props.data);\n      const group = d3.select(ref.current);\n      const groupWithData = group.selectAll(\"g.arc\").data(data);\n\n      groupWithData.exit().remove();\n\n      const groupWithUpdate = groupWithData\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", \"arc\");\n\n      const path = groupWithUpdate\n        .append(\"path\")\n        .merge(groupWithData.select(\"path.arc\"));\n\n      path\n        .attr(\"class\", \"arc\")\n        .attr(\"d\", createArc)\n        .attr(\"fill\", (d, i) => colors(i));\n\n      const text = groupWithUpdate\n        .append(\"text\")\n        .merge(groupWithData.select(\"text\"));\n\n      text\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"alignment-baseline\", \"middle\")\n        .attr(\"transform\", d => `translate(${createArc.centroid(d)})`)\n        .style(\"fill\", \"white\")\n        .style(\"font-size\", 10)\n        .text(d => format(d.value));\n    },\n    [props.data]\n  );\n\n  return (\n    <svg width={props.width} height={props.height}>\n      <g\n        ref={ref}\n        transform={`translate(${props.outerRadius} ${props.outerRadius})`}\n      />\n    </svg>\n  );\n};\n\nexport default Pie;\n"]},"metadata":{},"sourceType":"module"}