{"ast":null,"code":"'use strict';\n\nvar React = require('react');\n\nvar d3 = require('d3');\n\nvar VoronoiCircleContainer = require('./VoronoiCircleContainer');\n\nmodule.exports = React.createClass({\n  displayName: 'DataSeries',\n  propTypes: {\n    circleRadius: React.PropTypes.number.isRequired,\n    className: React.PropTypes.string,\n    colors: React.PropTypes.func.isRequired,\n    colorAccessor: React.PropTypes.func.isRequired,\n    data: React.PropTypes.array.isRequired,\n    height: React.PropTypes.number.isRequired,\n    xAccessor: React.PropTypes.func.isRequired,\n    xScale: React.PropTypes.func.isRequired,\n    yAccessor: React.PropTypes.func.isRequired,\n    yScale: React.PropTypes.func.isRequired\n  },\n  getDefaultProps: function () {\n    return {\n      className: 'rd3-scatterchart-dataseries'\n    };\n  },\n  render: function () {\n    var props = this.props;\n    var xScale = props.xScale;\n    var yScale = props.yScale;\n    var xAccessor = props.xAccessor;\n    var yAccessor = props.yAccessor;\n    var voronoi = d3.geom.voronoi().x(function (d) {\n      return xScale(d.coord.x);\n    }).y(function (d) {\n      return yScale(d.coord.y);\n    }).clipExtent([[0, 0], [props.width, props.height]]);\n    var regions = voronoi(props.data).map(function (vnode, idx) {\n      var point = vnode.point;\n      var coord = point.coord;\n      var x = xAccessor(coord);\n      var y = yAccessor(coord); // The circle coordinates\n\n      var cx, cy;\n\n      if (Object.prototype.toString.call(x) === '[object Date]') {\n        cx = xScale(x.getTime());\n      } else {\n        cx = xScale(x);\n      }\n\n      if (Object.prototype.toString.call(y) === '[object Date]') {\n        cy = yScale(y.getTime());\n      } else {\n        cy = yScale(y);\n      }\n\n      return React.createElement(VoronoiCircleContainer, {\n        key: idx,\n        circleFill: props.colors(props.colorAccessor(point.d, point.seriesIndex)),\n        circleRadius: props.circleRadius,\n        cx: cx,\n        cy: cy,\n        vnode: vnode\n      });\n    });\n    return React.createElement(\"g\", {\n      className: props.className\n    }, regions);\n  }\n});","map":{"version":3,"sources":["/Users/Susan/Desktop/covidata/my-app/node_modules/react-d3/scatterchart/DataSeries.js"],"names":["React","require","d3","VoronoiCircleContainer","module","exports","createClass","displayName","propTypes","circleRadius","PropTypes","number","isRequired","className","string","colors","func","colorAccessor","data","array","height","xAccessor","xScale","yAccessor","yScale","getDefaultProps","render","props","voronoi","geom","x","d","coord","y","clipExtent","width","regions","map","vnode","idx","point","cx","cy","Object","prototype","toString","call","getTime","createElement","key","circleFill","seriesIndex"],"mappings":"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","sourcesContent":["'use strict';\n\nvar React = require('react');\nvar d3 = require('d3');\nvar VoronoiCircleContainer = require('./VoronoiCircleContainer');\n\nmodule.exports = React.createClass({\n\n  displayName: 'DataSeries',\n\n  propTypes: {\n    circleRadius:  React.PropTypes.number.isRequired,\n    className:     React.PropTypes.string,\n    colors:        React.PropTypes.func.isRequired,\n    colorAccessor: React.PropTypes.func.isRequired,\n    data:          React.PropTypes.array.isRequired,\n    height:        React.PropTypes.number.isRequired,\n    xAccessor:     React.PropTypes.func.isRequired,\n    xScale:        React.PropTypes.func.isRequired,\n    yAccessor:     React.PropTypes.func.isRequired,\n    yScale:        React.PropTypes.func.isRequired\n  },\n\n  getDefaultProps:function() {\n    return {\n      className: 'rd3-scatterchart-dataseries'\n    };\n  },\n\n  render: function() {\n    var props     = this.props;\n    var xScale    = props.xScale;\n    var yScale    = props.yScale;\n    var xAccessor = props.xAccessor;\n    var yAccessor = props.yAccessor;\n\n    var voronoi = d3.geom.voronoi()\n      .x(function(d){ return xScale(d.coord.x); })\n      .y(function(d){ return yScale(d.coord.y); })\n      .clipExtent([[0, 0], [ props.width , props.height]]);\n\n    var regions = voronoi(props.data).map(function(vnode, idx) {\n      var point = vnode.point;\n      var coord = point.coord;\n\n      var x = xAccessor(coord);\n      var y = yAccessor(coord);\n\n      // The circle coordinates\n      var cx, cy;\n\n      if (Object.prototype.toString.call(x) === '[object Date]') {\n        cx = xScale(x.getTime());\n      } else {\n        cx = xScale(x);\n      }\n\n      if (Object.prototype.toString.call(y) === '[object Date]') {\n        cy = yScale(y.getTime());\n      } else {\n        cy = yScale(y);\n      }\n\n      return (\n        React.createElement(VoronoiCircleContainer, {\n          key: idx, \n          circleFill: props.colors(props.colorAccessor(point.d, point.seriesIndex)), \n          circleRadius: props.circleRadius, \n          cx: cx, \n          cy: cy, \n          vnode: vnode}\n        )\n      );\n    });\n\n    return (\n      React.createElement(\"g\", {\n        className: props.className\n      }, \n        regions\n      )\n    );\n  }\n\n});\n"]},"metadata":{},"sourceType":"script"}