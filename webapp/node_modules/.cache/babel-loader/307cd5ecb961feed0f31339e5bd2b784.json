{"ast":null,"code":"'use strict';\n\nvar React = require('react');\n\nvar d3 = require('d3');\n\nvar VoronoiCircleContainer = require('./VoronoiCircleContainer');\n\nvar Line = require('./Line');\n\nmodule.exports = React.createClass({\n  displayName: 'DataSeries',\n  propTypes: {\n    color: React.PropTypes.func,\n    colorAccessor: React.PropTypes.func,\n    data: React.PropTypes.array,\n    interpolationType: React.PropTypes.string,\n    xAccessor: React.PropTypes.func,\n    yAccessor: React.PropTypes.func\n  },\n  getDefaultProps: function () {\n    return {\n      data: [],\n      xAccessor: function (d) {\n        return d.x;\n      },\n      yAccessor: function (d) {\n        return d.y;\n      },\n      interpolationType: 'linear'\n    };\n  },\n  _isDate: function (d, accessor) {\n    return Object.prototype.toString.call(accessor(d)) === '[object Date]';\n  },\n  render: function () {\n    var props = this.props;\n    var xScale = props.xScale;\n    var yScale = props.yScale;\n    var xAccessor = props.xAccessor,\n        yAccessor = props.yAccessor;\n    var interpolatePath = d3.svg.line().y(function (d) {\n      return props.yScale(yAccessor(d));\n    }).interpolate(props.interpolationType);\n\n    if (this._isDate(props.data[0].values[0], xAccessor)) {\n      interpolatePath.x(function (d) {\n        return props.xScale(props.xAccessor(d).getTime());\n      });\n    } else {\n      interpolatePath.x(function (d) {\n        return props.xScale(props.xAccessor(d));\n      });\n    }\n\n    var lines = props.data.map(function (series, idx) {\n      return React.createElement(Line, {\n        path: interpolatePath(series.values),\n        stroke: props.colors(props.colorAccessor(series, idx)),\n        strokeWidth: series.strokeWidth,\n        strokeDashArray: series.strokeDashArray,\n        seriesName: series.name,\n        key: idx\n      });\n    });\n    var voronoi = d3.geom.voronoi().x(function (d) {\n      return xScale(d.coord.x);\n    }).y(function (d) {\n      return yScale(d.coord.y);\n    }).clipExtent([[0, 0], [props.width, props.height]]);\n    var cx, cy, circleFill;\n    var regions = voronoi(props.value).map(function (vnode, idx) {\n      var point = vnode.point.coord;\n\n      if (Object.prototype.toString.call(xAccessor(point)) === '[object Date]') {\n        cx = props.xScale(xAccessor(point).getTime());\n      } else {\n        cx = props.xScale(xAccessor(point));\n      }\n\n      if (Object.prototype.toString.call(yAccessor(point)) === '[object Date]') {\n        cy = props.yScale(yAccessor(point).getTime());\n      } else {\n        cy = props.yScale(yAccessor(point));\n      }\n\n      circleFill = props.colors(props.colorAccessor(vnode, vnode.point.seriesIndex));\n      return React.createElement(VoronoiCircleContainer, {\n        key: idx,\n        circleFill: circleFill,\n        vnode: vnode,\n        cx: cx,\n        cy: cy,\n        circleRadius: props.circleRadius\n      });\n    }.bind(this));\n    return React.createElement(\"g\", null, React.createElement(\"g\", null, regions), React.createElement(\"g\", null, lines));\n  }\n});","map":{"version":3,"sources":["/Users/Susan/Desktop/covidata/my-app/node_modules/react-d3/linechart/DataSeries.js"],"names":["React","require","d3","VoronoiCircleContainer","Line","module","exports","createClass","displayName","propTypes","color","PropTypes","func","colorAccessor","data","array","interpolationType","string","xAccessor","yAccessor","getDefaultProps","d","x","y","_isDate","accessor","Object","prototype","toString","call","render","props","xScale","yScale","interpolatePath","svg","line","interpolate","values","getTime","lines","map","series","idx","createElement","path","stroke","colors","strokeWidth","strokeDashArray","seriesName","name","key","voronoi","geom","coord","clipExtent","width","height","cx","cy","circleFill","regions","value","vnode","point","seriesIndex","circleRadius","bind"],"mappings":"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","sourcesContent":["'use strict';\n\nvar React = require('react');\nvar d3 = require('d3');\nvar VoronoiCircleContainer = require('./VoronoiCircleContainer');\nvar Line = require('./Line');\n\nmodule.exports = React.createClass({\n\n  displayName: 'DataSeries',\n\n  propTypes: {\n    color: React.PropTypes.func,\n    colorAccessor: React.PropTypes.func,\n    data: React.PropTypes.array,\n    interpolationType: React.PropTypes.string,\n    xAccessor: React.PropTypes.func,\n    yAccessor: React.PropTypes.func,\n  },\n\n  getDefaultProps:function() {\n    return {\n      data: [],\n      xAccessor: function(d)  {return d.x;},\n      yAccessor: function(d)  {return d.y;},\n      interpolationType: 'linear'\n    };\n  },\n  \n  _isDate:function(d, accessor) {\n      return Object.prototype.toString.call(accessor(d)) === '[object Date]';\n  },\n\n  render:function() {\n    var props = this.props;\n    var xScale = props.xScale;\n    var yScale = props.yScale;\n    var xAccessor = props.xAccessor,\n        yAccessor = props.yAccessor;\n    \n    var interpolatePath = d3.svg.line()\n        .y( function(d)  {return props.yScale(yAccessor(d));} )\n        .interpolate(props.interpolationType);\n\n        if (this._isDate(props.data[0].values[0], xAccessor)) {\n          interpolatePath.x(function(d) {\n            return props.xScale(props.xAccessor(d).getTime());\n          });\n        } else {\n          interpolatePath.x(function(d) {\n            return props.xScale(props.xAccessor(d));\n          });\n        }\n\n    var lines = props.data.map(function(series, idx)  {\n      return (\n        React.createElement(Line, {\n          path: interpolatePath(series.values), \n          stroke: props.colors(props.colorAccessor(series, idx)), \n          strokeWidth: series.strokeWidth, \n          strokeDashArray: series.strokeDashArray, \n          seriesName: series.name, \n          key: idx}\n        )\n      );\n    });\n\n    var voronoi = d3.geom.voronoi()\n      .x(function(d){ return xScale(d.coord.x); })\n      .y(function(d){ return yScale(d.coord.y); })\n      .clipExtent([[0, 0], [ props.width , props.height]]);\n\n    var cx, cy, circleFill;\n    var regions = voronoi(props.value).map(function(vnode, idx) {\n      var point = vnode.point.coord;\n      if (Object.prototype.toString.call(xAccessor(point)) === '[object Date]') {\n        cx = props.xScale(xAccessor(point).getTime());\n      } else {\n        cx = props.xScale(xAccessor(point));\n      }\n      if (Object.prototype.toString.call(yAccessor(point)) === '[object Date]') {\n        cy = props.yScale(yAccessor(point).getTime());\n      } else {\n        cy = props.yScale(yAccessor(point));\n      }\n      circleFill = props.colors(props.colorAccessor(vnode, vnode.point.seriesIndex));\n      \n      return (\n          React.createElement(VoronoiCircleContainer, {\n              key: idx, \n              circleFill: circleFill, \n              vnode: vnode, \n              cx: cx, cy: cy, \n              circleRadius: props.circleRadius}\n          )\n      );\n    }.bind(this));\n\n    return (\n      React.createElement(\"g\", null, \n        React.createElement(\"g\", null, regions), \n        React.createElement(\"g\", null, lines)\n      )\n    );\n  }\n\n});\n"]},"metadata":{},"sourceType":"script"}